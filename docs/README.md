<!DOCTYPE html>
<HTML lang="en">
<META charset="UTF-8">
<BODY>
<a href="https://github.com/k1729p/Study06/tree/main/docs"><img alt="" src="images/ColorScheme.png" height="25" width="800"/></a>
<H2 id="contents">Study06 README Contents</H2>
<H3 id="top">Research the <a href="https://docs.camunda.io/">Camunda Platform</a></H3>

<P>
The sections of this project:
</P>
<OL>
<LI><a href="#ONE"><b>Docker Build</b></a></LI>
<LI><a href="#TWO"><b>Models</b></a></LI>
<LI><a href="#THREE"><b>SpringBoot Application with Spring Zeebe Client</b></a></LI>
<LI><a href="#FOUR"><b>Workflow</b></a></LI>
</OL>

<hr>

<P>
Java source code. Packages:<br>
<img alt="" src="images/aquaHR-500.png"><br>
<img alt="" src="images/aquaSquare.png">
    <i>application sources</i>&nbsp;:&nbsp;
	<a href="https://github.com/k1729p/Study06/tree/main/src/main/java/kp">kp</a><br>
<img alt="" src="images/aquaSquare.png">
    <i>test sources</i>&nbsp;:&nbsp;
	<a href="https://github.com/k1729p/Study06/tree/main/src/test/java/kp/decisions">kp.decisions</a><br>
<img alt="" src="images/aquaHR-500.png">
</P>

<P>
<img alt="" src="images/yellowHR-500.png"><br>
<img alt="" src="images/yellowSquare.png">
    <a href="http://htmlpreview.github.io/?https://github.com/k1729p/Study06/blob/main/docs/apidocs/index.html">
	Java API Documentation</a>&nbsp;●&nbsp;
    <a href="http://htmlpreview.github.io/?https://github.com/k1729p/Study06/blob/main/docs/testapidocs/overview-tree.html">
	Java Test API Documentation</a><br>
<img alt="" src="images/yellowHR-500.png">
</P>
<hr>
<H3 id="ONE">❶ Docker Build</H3>

<P>Action:<br>
<img alt="" src="images/orangeHR-500.png"><br>
<img alt="" src="images/orangeSquare.png"> 1. With batch file
 <a href="https://github.com/k1729p/Study06/blob/main/0_batch/01%20Docker%20create%20Camunda.bat">
 <I>"01 Docker create Camunda.bat"</I></a> create Camunda in Docker.<br>
<img alt="" src="images/orangeHR-500.png"></P>

<P><img alt="" src="images/greenCircle.png">
1.1. The Camunda in Docker is created with Docker configuration 
<a href="https://raw.githubusercontent.com/k1729p/Study06/main/docker-config/docker-compose-core.yaml"><b>docker-compose-core.yaml</b></a>.
</P>
<P>
<img alt="" src="images/ScreenshotDockerContainer.png" height="490" width="950"/><br>
<img alt="" src="images/blackArrowUp.png">
<I>The screenshot of the created Docker containers.</I>
</P>

<a href="#top">Back to the top of the page</a>
<hr>
<H3 id="TWO">❷ Models</H3>

<P>Action:<br>
<img alt="" src="images/orangeHR-500.png"><br>
<img alt="" src="images/orangeSquare.png"> 1. In "Camunda Modeler" open<br>
<img alt="" src="images/orangeSquare.png"><img alt="" src="images/spacer-32.png">
<a href="https://github.com/k1729p/Study06/blob/main/src/main/resources/diagrams/business-process-diagram-01.bpmn">
business-process-diagram-01.bpmn</a> and
<a href="https://github.com/k1729p/Study06/blob/main/src/main/resources/diagrams/decision-requirements-diagram-01.dmn">
decision-requirements-diagram-01.dmn</a><br>
<img alt="" src="images/orangeSquare.png"> 2. In "Camunda Modeler" deploy
<a href="https://github.com/k1729p/Study06/blob/main/src/main/resources/diagrams/business-process-diagram-01.bpmn">
business-process-diagram-01.bpmn</a> to local Docker 'http://localhost:26500'.<br>
<img alt="" src="images/orangeHR-500.png"></P>

<P><img alt="" src="images/greenCircle.png">
2.1. The business process model and the decision model were created with <a href="https://camunda.com/platform/modeler/">Camunda Modeler</a>.
This modeler was downloaded and locally installed. 
The <a href="images/CamundaModelerDeployBusinessProcessDiagram.png">
screenshot</a> of the deployment dialog in "Camunda Modeler".
</p>

<P><img alt="" src="images/greenCircle.png">
2.2. The business process diagram file 
<a href="https://github.com/k1729p/Study06/blob/main/src/main/resources/diagrams/business-process-diagram-01.bpmn">
business-process-diagram-01.bpmn</a>.<br>
<img alt="" src="images/BusinessProcessDiagram.png" height="315" width="600"/><br>
<img alt="" src="images/blackArrowUp.png">
<I>The business process diagram in "Camunda Modeler".</I>
</P>

<P><img alt="" src="images/greenCircle.png">
2.3. The decision requirements diagram file 
<a href="https://github.com/k1729p/Study06/blob/main/src/main/resources/diagrams/decision-requirements-diagram-01.dmn">
decision-requirements-diagram-01.dmn</a>.<br>
From '<b>impact</b>' and '<b>urgency</b>' it is computed '<b>priority</b>'.
</P>
<P>
<img alt="" src="images/DecisionDiagram.png" height="400" width="650"/><br>
<img alt="" src="images/blackArrowUp.png">
<I>The decision requirements diagram in "Camunda Modeler".</I>
</P>

<P><img alt="" src="images/greenCircle.png">
2.4. Priority Matrix
</P>
<table style="border:solid"><thead>
<tr><th style="border:solid"></th><th style="border:solid" colspan="3">impact</th></tr>
<tr><th style="border:solid"></th><th style="border:solid">high</th><th style="border:solid">medium</th><th style="border:solid">low</th></tr>
</thead><tbody>
<tr><td style="border:solid"><b>urgency high</b></td>
<td style="border:solid">100</td><td style="border:solid">80</td><td style="border:solid">40</td></tr>
<tr><td style="border:solid"><b>urgency medium</b></td>
<td style="border:solid">70</td><td style="border:solid">50</td><td style="border:solid">20</td></tr>
<tr><td style="border:solid"><b>urgency low</b></td>
<td style="border:solid">30</td><td style="border:solid">10</td><td style="border:solid">0</td></tr>
</tbody>
</table>

<P><img alt="" src="images/greenCircle.png">
2.5. Condition Matrix
</P>
<table style="border:solid"><thead>
<tr><th style="border:solid">Flow From Service Task</th><th style="border:solid">Flow To Service Task</th>
<th style="border:solid">Flow Type</th><th style="border:solid">Condition Expression</th></tr>
</thead><tbody>
<tr><td style="border:solid;">Triage</td><td style="border:solid">High Priority</td>
<td style="border:solid">Sequence Flow</td><td style="border:solid">priority >= 80</td></tr>
<tr><td style="border:solid">Triage</td><td style="border:solid">Medium Priority</td>
<td style="border:solid">Sequence Flow</td><td style="border:solid">priority > 20 and priority < 80</td></tr>
<tr><td style="border:solid">Triage</td><td style="border:solid">Low Priority</td>
<td style="border:solid">Default Flow</td><td style="border:solid"></td></tr>
</tbody>
</table>

<a href="#top">Back to the top of the page</a>
<hr>
<H3 id="THREE">❸ SpringBoot Application with <a href="https://github.com/camunda-community-hub/spring-zeebe/">Spring Zeebe</a> Client</H3>
<P>Action:<br>
<img alt="" src="images/orangeHR-500.png"><br>
<img alt="" src="images/orangeSquare.png"> 1. With batch file
 <a href="https://github.com/k1729p/Study06/blob/main/0_batch/02%20MVN%20clean%20install%20run.bat">
 <I>"02 MVN clean install run.bat"</I></a> run the SpringBoot application with the enabled Zeebe client.<br>
<img alt="" src="images/orangeHR-500.png"></P>

<a href="#top">Back to the top of the page</a>
<hr>
<H3 id="FOUR">❹ Workflow</H3>

<P>Action:<br>
<img alt="" src="images/orangeHR-500.png"><br>
<img alt="" src="images/orangeSquare.png"> 1. Start workflow with batch file
 <a href="https://github.com/k1729p/Study06/blob/main/0_batch/03%20Zeebe%20start%20instances.bat">
<I>"03 Zeebe start instances.bat"</I></a>.<br>
<img alt="" src="images/orangeHR-500.png"></P>

<P><img alt="" src="images/greenCircle.png"> 
4.1. The workflow results from the Zeebe CLI client.
<br>
<img alt="" src="images/ZeebeCliClient.png" height="535" width="415"/><br>
<img alt="" src="images/blackArrowUp.png">
<I>Console log from the execution of the batch file "03 Zeebe start instances.bat".</I>
</P>

<P><img alt="" src="images/greenCircle.png"> 
4.2. The workflow results from the SpringBoot application.
<br>
<img alt="" src="images/SpringBootConsoleLog.png" height="500" width="805"/><br>
<img alt="" src="images/blackArrowUp.png">
<I>Console log from the SpringBoot application.</I>
</P>

<P><img alt="" src="images/greenCircle.png">
4.3. The Zeebe workers are the components that subscribe to Zeebe to execute available jobs:
</P>
<ul>
<li><a href="https://github.com/k1729p/Study06/blob/main/src/main/java/kp/workers/impl/TriageWorker.java">
kp.workers.impl.TriageWorker</a></li>
<li><a href="https://github.com/k1729p/Study06/blob/main/src/main/java/kp/workers/impl/HighPriorityWorker.java">
kp.workers.impl.HighPriorityWorker</a></li>
<li><a href="https://github.com/k1729p/Study06/blob/main/src/main/java/kp/workers/impl/MediumPriorityWorker.java">
kp.workers.impl.MediumPriorityWorker</a></li>
<li><a href="https://github.com/k1729p/Study06/blob/main/src/main/java/kp/workers/impl/LowPriorityWorker.java">
kp.workers.impl.LowPriorityWorker</a></li>
<li><a href="https://github.com/k1729p/Study06/blob/main/src/main/java/kp/workers/impl/ApproveWorker.java">
kp.workers.impl.ApproveWorker</a></li>
</ul>

<P><img alt="" src="images/greenCircle.png">
4.4. Assigning the workers (SpringBoot components) to the service tasks (from the business process diagram).
</P>

<P>
Service task "<b>Triage</b>" has the task definition type "service-triage".<br>
This type is set in method 
<a href="https://github.com/k1729p/Study06/blob/main/src/main/java/kp/workers/impl/TriageWorker.java#L70">
kp.workers.impl.TriageWorker::handle</a> on 'JobWorker' annotation.<br>
In method <a href="https://github.com/k1729p/Study06/blob/main/src/main/java/kp/workers/impl/TriageWorker.java#L53">
kp.workers.impl.TriageWorker::initialize</a> is created 'DmnDecision' from parsed decision requirements diagram file 
<a href="https://github.com/k1729p/Study06/blob/main/src/main/resources/diagrams/decision-requirements-diagram-01.dmn">
decision-requirements-diagram-01.dmn</a>.<br>
This 'DmnDecision' is evaluated in 'kp.workers.impl.TriageWorker::handle' method.
</P>

<P>
Service task "<b>High Priority</b>" has the task definition type "service-priority-high".<br>
This type is set in method 
<a href="https://github.com/k1729p/Study06/blob/main/src/main/java/kp/workers/impl/HighPriorityWorker.java#L38">
kp.workers.impl.HighPriorityWorker::handle</a> on 'JobWorker' annotation.
</P>

<P>
Service task "<b>Medium Priority</b>" has the task definition type "service-priority-medium".<br>
This type is set in method 
<a href="https://github.com/k1729p/Study06/blob/main/src/main/java/kp/workers/impl/MediumPriorityWorker.java#L38">
kp.workers.impl.MediumPriorityWorker::handle</a> on 'JobWorker' annotation.
</P>

<P>
Service task "<b>Low Priority</b>" has the task definition type "service-priority-low".<br>
This type is set in method 
<a href="https://github.com/k1729p/Study06/blob/main/src/main/java/kp/workers/impl/LowPriorityWorker.java#L38">
kp.workers.impl.LowPriorityWorker::handle</a> on 'JobWorker' annotation.
</P>

<P>
Service task "<b>Approve</b>" has the task definition type "service-approve".<br>
This type is set in method 
<a href="https://github.com/k1729p/Study06/blob/main/src/main/java/kp/workers/impl/ApproveWorker.java#L40">
kp.workers.impl.ApproveWorker::handle</a> on 'JobWorker' annotation.<br>
This worker sets unconditionally the value "approved".
</P>

<P><img alt="" src="images/greenCircle.png">
4.5. The workflow results in "Camunda Operate" on Docker <a href="http://localhost:8081/">http://localhost:8081/</a>.<br>
The <a href="images/CamundaOperateProcessInstances.png">
<b>screenshot</b></a> of all three process instances<br>
The <a href="images/CamundaOperateProcessInstancesHigh.png">
<b>screenshot</b></a> of the process instance triaged to <i>high priority</i><br>
The <a href="images/CamundaOperateProcessInstancesMedium.png">
<b>screenshot</b></a> of the process instance triaged to <i>medium priority</i><br>
The <a href="images/CamundaOperateProcessInstancesLow.png">
<b>screenshot</b></a> of the process instance triaged to <i>low priority</i><br>
</P>

<a href="#top">Back to the top of the page</a>
<hr>
<h3>Process Optimization</h3>
There is a possibility to install "Camunda Optimize" with an alternative docker configuration
<a href="https://raw.githubusercontent.com/k1729p/Study06/main/docker-config/docker-compose.yaml"><b>docker-compose.yaml</b></a>. 
The <a href="images/CamundaOptimizeTriageProcess.png">
<b>screenshot</b></a> of the optimization heat map for the "Defect's Triage Process".

<h3>Dictionary</h3>
<table style="border:solid">
<tbody>
<tr><td style="border:solid"><b>Camunda Platform</b></td><td style="border:solid">workflow and decision automation platform</td></tr>
<tr><td style="border:solid"><b>Camunda</b></td><td style="border:solid">process orchestrator</td></tr>
<tr><td style="border:solid"><b>Zeebe</b></td><td style="border:solid">workflow engine for microservices orchestration</td></tr>
<tr><td style="border:solid"><b>BPMN</b></td><td style="border:solid">Business Process Model and Notation</td></tr>
<tr><td style="border:solid"><b>DMN</b></td><td style="border:solid">Decision Model and Notation</td></tr>
<tr><td style="border:solid"><b>DRD</b></td><td style="border:solid">Decision Requirements Diagram</td></tr>
<tr><td style="border:solid"><b>COTS</b></td><td style="border:solid">Commercial Off-The-Shelf Software</td></tr>
<tr><td style="border:solid"><b>RPA</b></td><td style="border:solid">Robotic Process Automation</td></tr>
</tbody>
</table>

<a href="#top">Back to the top of the page</a>
<hr>
</BODY>
</HTML>